
  <div class="container">
    <h1>{{id?'Update item':'Add Item'}}</h1>
    <div class="row">
      <div class="col-6">
        <form [formGroup]="todoForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <mat-form-field appearance="fill" class="w100">
                <mat-label>Title</mat-label>
                <input matInput type="text" formControlName="title" required maxlength="200">
                <mat-error *ngIf="todoForm.get('title')?.hasError('required') && todoForm.get('title')?.touched">
                  Title is required.
                </mat-error>
                <mat-error *ngIf="todoForm.get('title')?.hasError('maxlength') && todoForm.get('title')?.touched">
                  Title must be less than 255 characters.
                </mat-error>
              </mat-form-field>
          </div>
          <div class="mb-3">
            <mat-form-field appearance="fill" class="w100">
                <mat-label>Description</mat-label>
                <textarea matInput type="text" formControlName="description" required maxlength="200"></textarea>
                <mat-error *ngIf="todoForm.get('description')?.hasError('required') && todoForm.get('description')?.touched">
                  Description is required.
                </mat-error>
                <mat-error *ngIf="todoForm.get('description')?.hasError('maxlength') && todoForm.get('description')?.touched">
                  Description must be less than 500 characters.
                </mat-error>
              </mat-form-field>
          </div>
          <div class="mb-3">
            <mat-form-field appearance="fill" class="w100">
                <mat-label>Planned Date</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="plannedDate" required readonly [min]="minDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker startView="year"></mat-datepicker>
                <mat-error *ngIf="todoForm.get('plannedDate')?.hasError('required') && todoForm.get('plannedDate')?.touched">
                  Planned date is required.
                </mat-error>
                <mat-error *ngIf="todoForm.get('plannedDate')?.hasError('plannedDateInvalid') && todoForm.get('plannedDate')?.touched">
                  Planned date must be today or in the future.
                </mat-error>
              </mat-form-field>
          </div>
          <button class="btn btn-primary submit-btn" color="primary" type="submit" [disabled]="todoForm.invalid">{{id?'Update':'Create'}}</button>
        </form>
      </div>
    </div>
  </div>
  
